<div class="container">
  <h1>Approvals Personal Trainers</h1>
  <table class="custom-table">
    <thead>
      <tr>
        <th>Pt ID</th>
        <th>Avatar</th>
        <th>Name</th>
        <th>Gender</th>
        <th>Email</th>
        <th>Date of Birth</th>
        <th>Address</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pt of userRegisList; let i = index">
        <td>{{ pt.userId }}</td>
        <td><img [src]="pt.imgAvatar" alt="avatar" class="avatar"></td>
        <td>{{ pt.firstName }} {{ pt.lastName }}</td>
        <td>{{ pt.gender === 1 ? 'Male' : 'Female' }}</td>
        <td>{{ pt.email }}</td>
        <td>{{ pt.dateOfBirth }}</td>
        <td>{{ pt.address }}</td>
        <td>
          <button class="btn btn-view"><i class="fas fa-eye"></i>Detail</button>
          <button class="btn btn-view" (click)="OnPopupAccepts(pt.userId)">Accepts</button>
          <button class="btn btn-lock" (click)="OnPopup(pt.userId)">X Reject</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="pagination">
    <button (click)="prevPage()" [disabled]="page === 0">Previous</button>
    <span>Page {{ page + 1 }} / {{ totalItems / size | number:'1.0-0' }}</span>
    <button (click)="nextPage()" [disabled]="(page + 1) * size >= totalItems">Next</button>
  </div>
</div>

<div class="popup" *ngIf="popupAccept">
  <div class="popup-content">
    <h2>Accept Personal Trainer {{UserId}}</h2>
    <textarea [(ngModel)]="message" placeholder="Enter your message here..."></textarea>
    <div>
      <button class="btn btn-primary" (click)="sendAcceptMessage(UserId,message)">Send</button>
      <button class="btn btn-secondary" (click)="OffPopupAccept()">Cancel</button>
    </div>
  </div>
</div>

<div class="popup" *ngIf="popupStatus">
  <div class="popup-content">
    <h2>Reject Personal Trainer {{UserId}}</h2>
    <textarea [(ngModel)]="message" placeholder="Enter your message here..."></textarea>
    <div>
      <button class="btn btn-primary" (click)="sendRejectMessage(UserId,message)">Send</button>
      <button class="btn btn-secondary" (click)="OffPopup()">Cancel</button>
    </div>
  </div>
</div>
